apiVersion: app.redislabs.com/v1
kind: RedisEnterpriseCluster
metadata:
  name: rec-platform
  labels:
    app.kubernetes.io/name: rec-platform
    app.kubernetes.io/part-of: redis
spec:
  nodes: 3
  persistentSpec:
    enabled: true
    storageClassName: ceph-block
    volumeSize: 20Gi
  securityContext:
    resourceLimits:
      allowAutoAdjustment: true
  redisEnterpriseServicesConfiguration:
    mdnsServer:
      operatingMode: disabled
  redisEnterpriseNodeResources:
    requests:
      cpu: "2"
      memory: 4Gi
    limits:
      cpu: "2"
      memory: 4Gi
  uiServiceType: ClusterIP
